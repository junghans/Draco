##-*- Mode: sh -*-
##---------------------------------------------------------------------------##
## .bashrc_darwin - my bash configuration file upon bash login
##---------------------------------------------------------------------------##

if test -n "$verbose"; then
   echo "In .bashrc_darwin"
fi

##---------------------------------------------------------------------------##
## ENVIRONMENTS
##---------------------------------------------------------------------------##

# unlimit stack and core dump sizes.
ulimit -s unlimited

# modules

if test -n "$MODULESHOME"; then
    module load openmpi-test-module-1.4.3-gcc-4.5.1-mar.08.11
    module load cuda-test-module-4.0.11
    if test -d /ccs/codes/radtran/vendors; then
        # ccs codes is available so use vendor libs at that location.
        module use ${DRACO_SRC_DIR}/environment/Modules/modulefiles
        module use ${DRACO_SRC_DIR}/environment/Modules/ccs-Linux64
        module load grace BLACS SCALAPACK SuperLU_DIST/2.4 gandolf
        module load gsl hypre lapack ndi ParMetis/3.1.1
        module load trilinos/10.6.4 totalview cmake numdiff
    else
        # Put cmake and numdiff into the user's path
        extradirs="/home/kgt/vendors/cmake-2.8.6-Linux-i386/bin /home/kgt/vendors/numdiff-5.2.1/bin"
        for mydir in ${extradirs}; do
            if test -z "`echo $PATH | grep $mydir`" && test -d $mydir; then
                export PATH=${mydir}:${PATH}
            fi
        done
        # Use $HOME/vendors as the default vendor library location
        export VENDOR_DIR=/home/kgt/vendors
        # Put VENDOR_DIR/lib into the LD_LIBRARY_PATH so that FindBLAS
        # and FindLAPACK work.
        export LD_LIBRARY_PATH=$VENDOR_DIR/lib:$LD_LIBRARY_PATH
    fi
    module list
fi

# CVS
export CVS_RSH=ssh
export CVSROOT=ccscs8:/ccs/codes/radtran/cvsroot

##---------------------------------------------------------------------------##
## end of .bashrc_darwin
##---------------------------------------------------------------------------##
