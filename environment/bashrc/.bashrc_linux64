##-*- Mode: sh -*-
##---------------------------------------------------------------------------##
## .bashrc_ccs4_linux - my bash configuration file upon bash login
##---------------------------------------------------------------------------##

if test -n "$verbose"; then
   echo "In .bashrc_linux64"
fi

##---------------------------------------------------------------------------##
## ALIASES
##---------------------------------------------------------------------------##

##---------------------------------------------------------------------------##
## ENVIRONMENTS
##---------------------------------------------------------------------------##

# unlimit stack and core dump sizes.
ulimit -s unlimited

# modules

if test -z "$MODULESHOME"; then
  # This is a new login
  if test -f ${DRACO_SRC_DIR}/environment/Modules/init/bash; then
    source ${DRACO_SRC_DIR}/environment/Modules/init/bash
    module load grace gcc/4.5.2
  fi
else
    # module environment already exists
    module use ${DRACO_SRC_DIR}/environment/Modules/modulefiles
    module use ${DRACO_SRC_DIR}/environment/Modules/ccs-Linux64
fi
module load BLACS SCALAPACK SuperLU_DIST/2.4 gsl hypre lapack ndi openmpi
module load ParMetis/3.1.1 trilinos/10.6.4 totalview cmake numdiff git svn
module list

#LaTeX
#vendordir=/ccs/codes/radtran/vendors
#extradirs="/ccs/codes/radtran/vendors/environment/latex"
extradirs=". ${DRACO_SRC_DIR}/environment/latex"
for mydir in ${extradirs}; do
  if test -z "`echo $TEXINPUTS | grep $mydir`" && test -d $mydir; then
    export TEXINPUTS=$mydir:$TEXINPUTS
  fi
done
extradirs=". ${DRACO_SRC_DIR}/environment/bibtex ${DRACO_SRC_DIR}/environment/bibfiles"
for mydir in ${extradirs}; do
  if test -z "`echo $BSTINPUTS | grep $mydir`" && test -d $mydir; then
    export BSTINPUTS=$mydir:$BSTINPUTS
  fi
done
unset extradirs
unset vendordir

##---------------------------------------------------------------------------##
## end of .bashrc_linux64
##---------------------------------------------------------------------------##
