##-*- Mode: sh -*-
##---------------------------------------------------------------------------##
## .bashrc_ccs4_linux - my bash configuration file upon bash login
##---------------------------------------------------------------------------##

if test -n "$verbose"; then
   echo "In .bashrc_tlcc"
fi

##---------------------------------------------------------------------------##
## ENVIRONMENTS
##---------------------------------------------------------------------------##

# unlimit stack and core dump sizes.
ulimit -s unlimited

# Where is draco
_BINDIR=`dirname "$BASH_ARGV"`
export DRACO_MODULE_DIR=`(cd $_BINDIR/../Modules;pwd)`

#
# MODULES
#
# Use this module command when running bash.
# function module() { eval `/usr/bin/modulecmd bash $*`; }
source /usr/share/modules/init/bash
# Use modules found in the draco directory
module use $DRACO_MODULE_DIR/hpc
module use $DRACO_MODULE_DIR/tu-fe
# Clear any tcsh loaded modules as these are invalid when staring a new shell. 
module purge &> /dev/null
# Load a default set of modules.
module load modules friendly-testing hpc-tools pgi/9.0-3 totalview
module load openmpi-pgi/1.4.3 grace python SuperLU_DIST/2.4 
module load lapack/atlas-3.8.3 BLACS/1.1 ParMetis/3.1.1
module load gsl/1.14-pgi trilinos/10.6.4 SCALAPACK/1.7
module load hypre/2.0.0 grace-draco ndi xshow
module load cmake numdiff

module list

# Ensure that F90 and FC are set for Intel C/C++/FC environment.
if test `echo $CC | grep pgcc | wc -l` = 1; then
  export F90=pgf90
  export FC=pgf90
fi

##---------------------------------------------------------------------------##
## end of .bashrc_tlcc
##---------------------------------------------------------------------------##
