#%Module1.0#####################################################################
##
## modules modulefile
##
## modulefiles/modules.  Generated from modules.in by configure.
##

# global control file
if { [file exists $env(MODULESHOME)/etc/control] } {
   source $env(MODULESHOME)/etc/control;
}

# load openmpi
if { [module-info mode load] } {
    if { ! [is-loaded hpc-tools] } {
	module load hpc-tools
    }
}
module load openmpi-intel/1.3.3

# local variables
set version     1.3.3
set prefix      $env(MPIHOME)
set incdir      $prefix/include
set libdir      $prefix/lib

# module whatis
module-whatis	"Open MPI $version for the Infiniband device";

# module help
proc ModulesHelp { } {
   global version prefix incdir;

   puts stderr "\tOpen MPI $version for the Infiniband device";
}

if { ![file exists $prefix] } {
   puts stderr "\n[module-info name]: $prefix: No such file or directory.\n";
   break;
   exit 1;
}

setenv         MPI_INC_DIR       $incdir;
setenv         MPI_LIB_DIR       $libdir;
