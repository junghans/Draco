%    file: beamerouterthemeLANL
% authors: Jermy Conlin (jconlin@lanl.gov)
%          Clell J. (CJ) Solomon (csolomon@lanl.gov)
% version: 0.03
%    date: 2011/04/01
\ProvidesPackage{beamerouterthemeLANL}[2011/04/01 v 0.03 LANL Beamer Outer Theme]

\mode<presentation>

% Frame Title LANL
\defbeamertemplate*{frametitle}{LANL}[1][left]
{
  \ifbeamercolorempty[bg]{frametitle}{}{\nointerlineskip}%
  \@tempdima=\textwidth%
  \advance\@tempdima by\beamer@leftmargin%
  \advance\@tempdima by\beamer@rightmargin%
  \begin{beamercolorbox}[sep=0.3cm,#1,wd=\the\@tempdima]{frametitle}
    \if@tempswa\else\csname beamer@fte#1\endcsname\fi%
    {\usebeamerfont{frametitle}\insertframetitle\par}%
    {%
      \ifx\insertframesubtitle\@empty%
      \else%
      {\usebeamerfont{framesubtitle}\usebeamercolor[fg]{framesubtitle}\insertframesubtitle\par}%
      \fi
    }%
    %\if@tempswa\else\vskip-.3cm\fi% set inside beamercolorbox... evil here...
    \usebeamercolor[fg]{title line}\rule[1.5ex]{0.95\paperwidth}{1pt}\vskip-3ex
  \end{beamercolorbox}%
}

% Headline
\defbeamertemplate*{headline}{LANL}
{
  %\leavevmode%
  \begin{centering}
  \hbox{%
  \begin{beamercolorbox}[wd=0.98\textwidth,ht=5ex,center]{frametitle}%
    \if@class
      \usebeamerfont{classification} \usebeamercolor[fg]{classification color} \@classificationlevel
    \fi
  \end{beamercolorbox}%
  }%
  \end{centering}
}

% Footline
\newcommand{\LANL@Operated}{Operated by Los Alamos National Security, LLC for the U.S. Department of Energy's NNSA}

\defbeamertemplate*{footline}{LANL}
{
  %\leavevmode
  \vbox{
    \hbox{
      \begin{beamercolorbox}[wd=0.49\paperwidth,left]{footline}
        \vspace{0.111in}\includegraphics[width=0.21\paperwidth,keepaspectratio]{lanllogo.pdf} 
      \end{beamercolorbox}%
      \begin{beamercolorbox}[wd=0.49\paperwidth,sep=1ex,right]{footline}
          \emph{\@modinsertframenumber}\hspace{0.125in}

          \vspace{0.03in}
          \color{black!75!white}\hspace{-3in}\rule{0.77\textwidth}{0.4pt}\hspace{0.08in}
          \vspace{0.1in}
      \end{beamercolorbox}

    }
    \vspace{-0.075in}
    \hspace{0.25in}\LANL@Operated
  }

  \hbox{
  \begin{centering}
  \begin{beamercolorbox}[wd=0.32\paperwidth,ht=5ex,dp=1ex,left]{footline}
  \end{beamercolorbox}
  
  \begin{beamercolorbox}[wd=0.32\paperwidth,ht=5ex,dp=1ex,center]{footline}
    \if@class
      \usebeamerfont{classification} \usebeamercolor[fg]{classification color} \@classificationlevel
    \fi
  \end{beamercolorbox}
  
  \begin{beamercolorbox}[wd=0.32\paperwidth,ht=5ex,dp=1ex,right]{footline}
    \includegraphics[height=6ex,keepaspectratio]{nnsalogo.pdf}\hspace*{0.1in}%
  \end{beamercolorbox}%
  \end{centering}
  }
}

\mode<all>
