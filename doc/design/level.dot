digraph draco_level {
    /* graph attributes */
    center=1;
    size="7.5,10";
    ranksep=4;
    
    /* levels */
    level1 [shape=plaintext, label="Level 1:", fontsize=18];
    level2 [shape=plaintext, label="Level 2:", fontsize=18];
    level3 [shape=plaintext, label="Level 3:", fontsize=18];
    level4 [shape=plaintext, label="Level 4:", fontsize=18];
/*     level5 [shape=plaintext, label="Level 5:", fontsize=18]; */
/*    level6 [shape=plaintext, label="Level 6:", fontsize=18]; */
    
    /* level6 -> level5 -> */
    level4 -> level3 -> level2 -> level1 [style=invis];
    
    /* packages */

    /* level 1 */
/*    stdheaders [shape=box,     color=brown, label="stdheaders\n(Only when
      C++ compiler does not\nfully support C++ standard header files.)"]; */
    vmpi       [shape=hexagon, color=green, label="MPI"];
    vlapack    [shape=hexagon, color=green, label="LAPACK"];
    vgandolf   [shape=hexagon, color=green, label="GANDOLF"];
    veospac    [shape=hexagon, color=green, label="EOSPAC"];
    vgrace     [shape=hexagon, color=green, label="XMGRACE"];
    vspring    [shape=hexagon, color=green, label="SPRING"];
    vdlopen    [shape=hexagon, color=green, label="dlopen"];
        
    dsxx [shape=box, label="ds++", width=6];
    
    /* level 2 */
    vgsl       [shape=hexagon, color=green, label="GSL"];
    vpcg       [shape=hexagon, color=green, label="PCG"];

    traits [shape=box, label="traits"];
    xm     [shape=box, label="xm"];
    c4     [shape=box, label="c4"];
    rng    [shape=box, label="rng"];
    units  [shape=box, label="units"];
    cdi    [shape=box, label="cdi"];
    meshelement [shape=box, label="mesh_element"];
    plot   [shape=box, label="plot2D"];
    lapack [shape=box, label="lapack_wrap"];
    shlib  [shape=box, label="shared_lib"];
    sf     [shape=box, label="special_functions"];
        
    /* level 3 */
    quad   [shape=box, label="quadrature"];
    viz      [shape=box, label="viz"];
    timestep [shape=box, label="timestep"];
    cdianal  [shape=box, label="cdi_analytic"];
    cdieos   [shape=box, label="cdi_eospac"];
    cdigan   [shape=box, label="cdi_gandolf"];
    pcg      [shape=box, label="pcgWrap"];
    meshread [shape=box, label="meshReaders"];
    parser   [shape=box, label="parser"];
    norms    [shape=box, label="norms"];
    
    /* level 4 */
    rttread     [shape=box, label="RTT_Format_Reader"];
    
    /* level 6 */
/*    meshservice [shape=box, label="meshReaders_Services"]; */
    
    /* dependencies */
    {rank=same; level1 dsxx vlapack vmpi veospac  vgandolf vgrace vspring vdlopen };
    {rank=same; level2 shlib plot lapack traits xm c4 rng units cdi meshelement vgsl vpcg sf};
    {rank=same; level3 viz timestep cdianal cdieos cdigan pcg meshread quad parser};
    {rank=same; level4 rttread};
/*    {rank=same; level6 meshservice}; */
    
    /* draco packages */

    /* NOTE:  hidden dependencies are in comments at the end of each line.
     * For example if a package depends on c4 it implicitly depends on dsxx
     * as well.  The dependency on dsxx is not shown explicitly on the
     * graph. 
    
    /* level 2 */
    xm          -> {dsxx};
    units       -> {dsxx};
    traits      -> {dsxx};
    c4          -> {dsxx};
    c4          -> {vmpi}         [color="green"];
    sf          -> {dsxx}         [color="orange" style=dotted];
    rng         -> {dsxx};
    rng         -> {vspring}      [color="green"];
    cdi         -> {dsxx};
    meshelement -> {dsxx};
    plot        -> {dsxx};
    plot        -> {vgrace}       [color="green"];
    lapack      -> {dsxx};
    lapack      -> {vlapack}      [color="green"];
    shlib       -> {dsxx};
    shlib       -> {vdlopen}      [color="green"];
    vgsl        -> {vlapack}      [color="green"];
    vpcg        -> {vlapack}      [color="green"];
    
    /* level 3 */
    quad        -> {units sf};
    quad        -> {vgsl}         [color="green"];
    viz         -> {traits};      /* traits: dsxx */
    timestep    -> {c4};          /* c4      : dsxx */
    pcg         -> {dsxx};
    pcg         -> {vpcg} [color="green"];
    pcg         -> {c4}           [color="orange" style=dotted];
    cdianal     -> {cdi};         /* cdi     : dsxx */
    cdieos      -> {cdi};         /* cdi     : dsxx */
    cdieos      -> {veospac}      [color="green"]; 
    cdigan      -> {cdi};         /* cdi     : dsxx */
    cdigan      -> {vgandolf}     [color="green"];
    meshread    -> {meshelement};
    parser      -> {c4}; /* dsxx */
    norms       -> {c4}; /* dsxx */

    /* level 4 */
    rttread     -> {meshread};           /* meshread: dsxx */

}
