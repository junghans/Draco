digraph draco_level {
    /* graph attributes */
    center=1;
    size="7.5,10";
    ranksep=4;
    
    /* levels */
    level1 [shape=plaintext, label="Level 1:", fontsize=18];
    level2 [shape=plaintext, label="Level 2:", fontsize=18];
    level3 [shape=plaintext, label="Level 3:", fontsize=18];
    level4 [shape=plaintext, label="Level 4:", fontsize=18];
    level5 [shape=plaintext, label="Level 5:", fontsize=18];
    
    level5 -> level4 -> level3 -> level2 -> level1 [style=invis];
    
    /* packages */
    
    /* level 1 */
    dsxx [shape=box, label="ds++", width=8];
    stdheaders [shape=box, label="stdheaders"];
    
    /* level 2 */
    traits [shape=box, label="traits"];
    xm [shape=box, label="xm"];
    c4 [shape=box, label="c4"];
    rng [shape=box, label="rng"];
    units [shape=box, label="units"];
    cdi [shape=box, label="cdi"];
    quad [shape=box, label="quadrature"];
    meshread [shape=box, label="meshReaders"];
    stop [shape=box, label="stopwatch"]; 
    plot [shape=box, label="plot2D"];
    
    /* level 3 */
    viz [shape=box, label="viz"];
    radphys [shape=box, label="radphys"];
    timestep [shape=box, label="timestep"];
    cdianal [shape=box, label="cdi_analytic"];
    cdieos [shape=box, label="cdi_eospac"];
    cdigan [shape=box, label="cdi_gandolf"];
    pcg [shape=box, label="pcgWrap"];
    rttread [shape=box, label="RTT_Format_Reader"];
    
    /* level 4 */
    mc [shape=box, label="mc"];
    meshservice [shape=box, label="meshReaders_Services"];

    /* level 5 */
    imc [shape=box, label="imc"];
    
    /* dependencies */
    {rank=same; level1 stdheaders dsxx};
    {rank=same; level2 plot stop traits xm c4 rng units meshread cdi quad};
    {rank=same; level3 rttread viz radphys timestep cdianal cdieos cdigan pcg};
    {rank=same; level4 mc meshservice};
    {rank=same; level5 imc};
    
    /* draco packages */
    
    /* level 2 */
    xm          -> {dsxx};
    units       -> {dsxx};
    traits      -> {dsxx};
    c4          -> {dsxx};
    rng         -> {dsxx};
    cdi         -> {dsxx};
    meshread    -> {dsxx};
    quad        -> {dsxx};
    stop        -> {dsxx};
    plot        -> {dsxx};
    
    /* level 3 */
    viz         -> {traits dsxx};
    timestep    -> {c4 dsxx};
    radphys     -> {units dsxx};
    pcg         -> {dsxx};
    pcg         -> {c4} [style=dotted];
    cdianal     -> {cdi dsxx};
    cdieos      -> {cdi dsxx};
    cdigan      -> {cdi dsxx};
    rttread     -> {meshread dsxx};

    /* level 4 */
    mc          -> {viz meshread rng c4 dsxx};
    mc          -> {rttread} [style=dotted];
    meshservice -> {meshread dsxx};
    meshservice -> {rttread} [style=dotted];

    /* level 5 */
    imc         -> {mc cdi rng c4 dsxx};
    imc         -> {cdianal} [style=dotted];
}
