digraph draco_test {
  /* graph attributes */
    center=1;
    size="6,4";
    ranksep=1.5;
    
  /* levels */
    level1 [shape=plaintext, label="Level 1:", fontsize=18];
    level2 [shape=plaintext, label="Level 2:", fontsize=18];
    level3 [shape=plaintext, label="Level 3:", fontsize=18];
    level4 [shape=plaintext, label="Level 4:", fontsize=18];
    
    level4 -> level3 -> level2 -> level1 [style=invis];
    
  /* packages */
    
  /* level 1 */
    dsxx [shape=box, label="ds++", width=7];
    traits [shape=box, label="traits" width=2];
    xm [shape=box, label="xm"];
    
  /* level 2 */
    c4 [shape=box, label="c4", width=2];
    rng [shape=box, label="rng"];
    nml [shape=box, label="nml", width=2];
    units [shape=box, label="units"];
    
  /* level 3 */
    mesh [shape=box, label="mesh"];
    diffusion [shape=box, label="diffusion"];
    imc [shape=box, label="imc"];
    linalg [shape=box, label="linalg"];
    radphys [shape=box, label="radphys"];
    timestep [shape=box, label="timestep"];
    
  /* level 4 */
    p1diffusion [shape=box, label="P1Diffusion"];
    matprops [shape=box, label="matprops"];
    
  /* dependencies */
    {rank=same; level1 traits dsxx xm}
    {rank=same; level2 c4 rng nml units}
    {rank=same; level3 mesh diffusion imc linalg radphys timestep}
    {rank=same; level4 p1diffusion matprops}
    
  /* draco packages */
  /* level 2 */
    rng -> dsxx;
    c4 -> dsxx;
    nml -> dsxx;
    units -> dsxx;
  /* level 3 */
    diffusion -> nml;
    linalg -> {dsxx nml c4};
    radphys -> {units traits};
    mesh -> {dsxx c4 nml xm traits};
    timestep -> {dsxx c4};
    imc -> {dsxx c4 rng};
  /* level 4 */
    p1diffusion -> {linalg diffusion dsxx};
    matprops -> {units radphys traits dsxx};

  /* TEST DEPENDENCIES */
    edge [style=dotted];
    matprops -> mesh;
    radphys -> mesh;
    p1diffusion -> mesh;
}
