#-----------------------------*-cmake-*----------------------------------------#
# file   doc/CMakeLists.txt
# author Kelly Thompson <kgt@lanl.gov>
# date   2011 July 20
# brief  Instructions for building doc level Makefile.
# note   © Copyright 2011 Los Alamos National Security, All rights reserved.
#------------------------------------------------------------------------------#
# $Id$
#------------------------------------------------------------------------------#

cmake_minimum_required( VERSION 2.8 FATAL_ERROR )
project( draco_doc_dir )

# helper macros

if( NOT "${CMAKE_MODULE_PATH}" MATCHES "config" )
   set( CMAKE_MODULE_PATH ${PROJECT_SOURCE_DIR}/../config )
endif()
include( doc_macros )
set( allpdfs "" CACHE INTERNAL "list of all pdfs to be generated" )

# Helper macro that only tries to configure a listed package if it
# exists in the source tree.  For example, when building milagro, the
# get_draco script only checks out the parts of Draco that are
# required by milagro.
macro( add_dir_if_exists package )
   if( EXISTS ${PROJECT_SOURCE_DIR}/${package} )
      add_subdirectory( ${package} )
   endif()
endmacro()

# Add directories
add_dir_if_exists( releases )

# create target for building all documents
add_custom_target( docs
   DEPENDS ${allpdfs} # allpdfs is a list generated by doc_macros::add_latex_doc
   )

##---------------------------------------------------------------------------##
## End of doc/CMakeLists.txt
##---------------------------------------------------------------------------##
