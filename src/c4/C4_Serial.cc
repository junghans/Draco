//----------------------------------*-C++-*----------------------------------//
/*!
 * \file   c4/C4_Serial.cc
 * \author Thomas M. Evans
 * \date   Mon Mar 25 17:06:25 2002
 * \brief  Implementation of C4 serial option.
 */
//---------------------------------------------------------------------------//
// $Id$
//---------------------------------------------------------------------------//

#include <c4/config.h>

#ifdef C4_SCALAR

#include "C4_Serial.hh"
#include <unistd.h>
#include <sys/times.h>

namespace rtt_c4
{

//---------------------------------------------------------------------------//
// SETUP FUNCTIONS
//---------------------------------------------------------------------------//

void initialize(int &argc, char **&argv)
{
}

//---------------------------------------------------------------------------//

void finalize()
{
}

//---------------------------------------------------------------------------//

void free_inherited_comm()
{
}

//---------------------------------------------------------------------------//
// QUERY FUNCTIONS
//---------------------------------------------------------------------------//

int node()
{
    return 0;
}

//---------------------------------------------------------------------------//

int nodes()
{
    return 1;
}

//---------------------------------------------------------------------------//
// BARRIER FUNCTIONS
//---------------------------------------------------------------------------//

void global_barrier()
{
}

//---------------------------------------------------------------------------//
// TIMING FUNCTIONS
//---------------------------------------------------------------------------//

double wall_clock_time()
{
    tms temp;
    return times(&temp) / static_cast<double>(sysconf(_SC_CLK_TCK));
}

//---------------------------------------------------------------------------//

double wall_clock_resolution()
{
    return static_cast<double>(sysconf(_SC_CLK_TCK));
}

//---------------------------------------------------------------------------//
// PROBE/WAIT FUNCTIONS
//---------------------------------------------------------------------------//

bool probe(int  /* source */, 
	   int  /* tag */,
	   int &/* message_size */)
{    
    return false;
}

} // end namespace rtt_c4

#endif // C4_SCALAR

//---------------------------------------------------------------------------//
//                              end of C4_Serial.cc
//---------------------------------------------------------------------------//
