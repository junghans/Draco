digraph imc_package_level {
    /* graph attributes */
    center=1;
    size="8,14";
    ranksep=1.25;

    /* nodes */
    node0 [shape=box, label="Rep_Source_Builder"];
    node1 [shape=box, label="Communicator"];
    node2 [shape=box, label="Transporter"];
    node3 [shape=box, label="Interface"];
    node4 [shape=box, label="Source_Init"];
    node5 [shape=box, label="Mat_State"];
    node6 [shape=box, label="Topology_Builder"];
    node7 [shape=box, label="Tally"];
    node8 [shape=box, label="Mat_State_Builder"];
    node9 [shape=box, label="DD_Transporter"];
    node10 [shape=box, label="Flat_Mat_State_Builder"];
    node11 [shape=box, label="Comm_Builder"];
    node12 [shape=box, label="Particle_Buffer"];
    node13 [shape=box, label="Opacity"];
    node14 [shape=box, label="Mesh_Operations"];
    node15 [shape=box, label="Release"];
    node16 [shape=box, label="Source_Builder"];
    node17 [shape=box, label="Flat_Data_Interface"];
    node18 [shape=box, label="DD_Source_Builder"];
    node19 [shape=box, label="Source"];
    node20 [shape=box, label="CDI_Data_Interface"];
    node21 [shape=box, label="CDI_Mat_State_Builder"];
    node22 [shape=box, label="Rep_Transporter"];
    node23 [shape=box, label="Particle"];
    node24 [shape=box, label="Global"];

    /* level dependencies */
    node0 -> { node16  node19  node12  node13  node5  node14  node24 };
    node1 -> { node12 };
    node2 -> { node5  node13  node19  node7  node12  node1 };
    node3 -> { node12 };
    node4 -> {};
    node5 -> {};
    node6 -> {};
    node7 -> {};
    node8 -> { node5  node13 };
    node9 -> { node2 };
    node10 -> { node24  node8 };
    node11 -> { node1 };
    node12 -> {};
    node13 -> {};
    node14 -> { node5 };
    node15 -> {};
    node16 -> { node23  node19  node12  node13  node5  node23  node24 };
    node17 -> {};
    node18 -> { node16  node19  node12  node13  node5  node14  node24 };
    node19 -> { node23  node12  node5  node14  node24 };
    node20 -> {};
    node21 -> { node8 };
    node22 -> { node2 };
    node23 -> { node13  node7  node24  node24 };
    node24 -> {};

    /* Levels */
    l5 [shape=plaintext, label="Level 5", fontsize=18];
    l4 [shape=plaintext, label="Level 4", fontsize=18];
    l3 [shape=plaintext, label="Level 3", fontsize=18];
    l2 [shape=plaintext, label="Level 2", fontsize=18];
    l1 [shape=plaintext, label="Level 1", fontsize=18];

    l5 -> l4 -> l3 -> l2 -> l1

    {rank=same; l1 node4 node5 node6 node7 node12 node13 node15 node17 node20 node24};
    {rank=same; l2 node1 node3 node8 node14 node23};
    {rank=same; l3 node10 node11 node19 node21};
    {rank=same; l4 node2 node16};
    {rank=same; l5 node0 node9 node18 node22};

}