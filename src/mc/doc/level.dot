digraph mc_package_level {
    /* graph attributes */
    center=1;
    size="8,14";
    ranksep=1.25;

    /* nodes */
    node0 [shape=box, label="AMR_Layout"];
    node1 [shape=box, label="Constants"];
    node2 [shape=box, label="TET_Mesh"];
    node3 [shape=box, label="Topology"];
    node4 [shape=box, label="Communicator"];
    node5 [shape=box, label="Interface"];
    node6 [shape=box, label="TET_Builder"];
    node7 [shape=box, label="Sphere"];
    node8 [shape=box, label="Surface"];
    node9 [shape=box, label="Sphyramid_Mesh"];
    node10 [shape=box, label="General_Topology"];
    node11 [shape=box, label="Parallel_Data_Operator"];
    node12 [shape=box, label="Rep_Topology"];
    node13 [shape=box, label="ThreeVector"];
    node14 [shape=box, label="OS_Builder"];
    node15 [shape=box, label="Sampler"];
    node16 [shape=box, label="Particle_Buffer"];
    node17 [shape=box, label="Math"];
    node18 [shape=box, label="Surface_Descriptor"];
    node19 [shape=box, label="Coord_sys"];
    node20 [shape=box, label="XYCoord_sys"];
    node21 [shape=box, label="Communicator_Builder"];
    node22 [shape=box, label="Release"];
    node23 [shape=box, label="RZWedge_Builder"];
    node24 [shape=box, label="XYZCoord_sys"];
    node25 [shape=box, label="Particle_Stack"];
    node26 [shape=box, label="Global_Mesh_Data.i"];
    node27 [shape=box, label="Comm_Patterns"];
    node28 [shape=box, label="Global_Mesh_Data"];
    node29 [shape=box, label="Sphyramid_Builder"];
    node30 [shape=box, label="Particle_IO"];
    node31 [shape=box, label="Layout"];
    node32 [shape=box, label="Particle_Services"];
    node33 [shape=box, label="OS_Mesh"];
    node34 [shape=box, label="RZWedge_Mesh"];

    /* level dependencies */
    node0 -> {};
    node1 -> {};
    node2 -> { node1  node13  node24  node31 };
    node3 -> {};
    node4 -> { node16  node25 };
    node5 -> {};
    node6 -> { node24  node2 };
    node7 -> { node17  node1  node8 };
    node8 -> {};
    node9 -> { node24  node19  node31  node17  node15 };
    node10 -> { node3 };
    node11 -> { node17  node3  node27 };
    node12 -> { node3 };
    node13 -> {};
    node14 -> { node20  node24  node19  node31  node33 };
    node15 -> {};
    node16 -> { node25 };
    node17 -> {};
    node18 -> {};
    node19 -> { node17  node1 };
    node20 -> { node19  node1 };
    node21 -> { node4  node3 };
    node22 -> {};
    node23 -> { node20  node24  node17  node19  node0  node34 };
    node24 -> { node19  node1 };
    node25 -> {};
    node26 -> {};
    node27 -> { node3 };
    node28 -> { node3  node33  node34  node9 };
    node29 -> { node24  node17  node19  node31  node9 };
    node30 -> { node25  node16 };
    node31 -> {};
    node32 -> { node25  node30  node16 };
    node33 -> { node20  node24  node17  node19  node31  node1 };
    node34 -> { node24  node1  node17  node19  node0  node17  node1  node15 };

    /* Levels */
    l5 [shape=plaintext, label="Level 5", fontsize=18];
    l4 [shape=plaintext, label="Level 4", fontsize=18];
    l3 [shape=plaintext, label="Level 3", fontsize=18];
    l2 [shape=plaintext, label="Level 2", fontsize=18];
    l1 [shape=plaintext, label="Level 1", fontsize=18];

    l5 -> l4 -> l3 -> l2 -> l1

    {rank=same; l1 node0 node1 node3 node5 node8 node13 node15 node17 node18 node22 node25 node26 node31};
    {rank=same; l2 node7 node10 node12 node16 node19 node27};
    {rank=same; l3 node4 node11 node20 node24 node30};
    {rank=same; l4 node2 node9 node21 node32 node33 node34};
    {rank=same; l5 node6 node14 node23 node28 node29};

}